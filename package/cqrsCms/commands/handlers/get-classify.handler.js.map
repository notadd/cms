{"version":3,"sources":["cqrsCms/commands/handlers/get-classify.handler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,uCAA+D;AAC/D,qEAAiE;AACjE,mFAA6E;AAG7E,IAAa,kBAAkB,GAA/B;IACI,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAC7D,CAAC;IAEK,OAAO,CAAC,OAAgC,EAAE,QAAyB;;YACrE,IAAI,MAAM,CAAC;YAEX,IAAI,OAAO,CAAC,WAAW,CAAC,MAAM,KAAK,MAAM,EAAE;gBACvC,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;aAC9D;YAED,IAAI,OAAO,CAAC,WAAW,CAAC,MAAM,KAAK,KAAK,EAAE;gBACtC,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;aAC7D;YACD,IAAI,OAAO,CAAC,WAAW,CAAC,eAAe,EAAE;gBACrC,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe;qBAC9B,gBAAgB,CACb,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,MAAM,EAC1C,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE,CACzC,CAAC;aACT;YACD,QAAQ,CAAC,MAAM,CAAC,CAAC;QACrB,CAAC;KAAA;CACJ,CAAA;AAvBY,kBAAkB;IAD9B,qBAAc,CAAC,oDAAuB,CAAC;qCAEU,kCAAe;GADpD,kBAAkB,CAuB9B;AAvBY,gDAAkB","file":"get-classify.handler.js","sourcesContent":["import { CommandHandler, ICommandHandler } from \"@nestjs/cqrs\";\nimport { ClassifyService } from \"../../service/classify.service\";\nimport { GetClassifyParamCommand } from \"../impl/get-classify-param.command\";\n\n@CommandHandler(GetClassifyParamCommand)\nexport class GetClassifyHandler implements ICommandHandler<GetClassifyParamCommand> {\n    constructor(private readonly classifyService: ClassifyService) {\n    }\n\n    async execute(command: GetClassifyParamCommand, resolver: (value) => void) {\n        let result;\n        /*页面分类无极限*/\n        if (command.getClassify.useFor === \"page\") {\n            result = await this.classifyService.findAllClassifyPage(1);\n        }\n        /*文章分类无极限*/\n        if (command.getClassify.useFor === \"art\") {\n            result = await this.classifyService.findAllClassifyArt(1);\n        }\n        if (command.getClassify.getClassifyById) {\n            result = await this.classifyService\n                .findClassifyById(\n                    command.getClassify.getClassifyById.useFor,\n                    command.getClassify.getClassifyById.id,\n                );\n        }\n        resolver(result);\n    }\n}\n"]}
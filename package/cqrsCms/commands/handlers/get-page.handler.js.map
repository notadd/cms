{"version":3,"sources":["cqrsCms/commands/handlers/get-page.handler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,uCAA+D;AAC/D,6DAAyD;AACzD,2EAAqE;AAGrE,IAAa,cAAc,GAA3B;IACI,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IACrD,CAAC;IAEK,OAAO,CAAC,OAA4B,EAAE,QAAyB;;YACjE,IAAI,MAAM,CAAC;YAEX,IAAI,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE;gBAC1B,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;aACpH;YAED,IAAI,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE;gBAC5B,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;aAC5H;YAED,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,EAAE;gBACpB,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;aAC9D;YAED,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE;gBACxB,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;aACtF;YACD,QAAQ,CAAC,MAAM,CAAC,CAAC;QACrB,CAAC;KAAA;CACJ,CAAA;AAxBY,cAAc;IAD1B,qBAAc,CAAC,4CAAmB,CAAC;qCAEU,0BAAW;GAD5C,cAAc,CAwB1B;AAxBY,wCAAc","file":"get-page.handler.js","sourcesContent":["import { CommandHandler, ICommandHandler } from \"@nestjs/cqrs\";\nimport { PageService } from \"../../service/page.service\";\nimport { GetPageParamCommand } from \"../impl/get-page-param.command\";\n\n@CommandHandler(GetPageParamCommand)\nexport class GetPageHandler implements ICommandHandler<GetPageParamCommand> {\n    constructor(private readonly pageService: PageService) {\n    }\n\n    async execute(command: GetPageParamCommand, resolver: (value) => void) {\n        let result;\n        /*关键字搜索*/\n        if (command.getPage.keywords) {\n            result = this.pageService.serachKeywords(command.getPage.keywords, command.getPage.limit, command.getPage.pages);\n        }\n        /*分类id获取页面*/\n        if (command.getPage.classifyId) {\n            result = this.pageService.findPageByClassifyId(command.getPage.classifyId, command.getPage.limit, command.getPage.pages);\n        }\n        /*根据页面id获取具体内容*/\n        if (command.getPage.id) {\n            result = this.pageService.findPageById(command.getPage.id);\n        }\n        /*获取所有页面*/\n        if (command.getPage.getAll) {\n            result = this.pageService.getAllPage(command.getPage.limit, command.getPage.pages);\n        }\n        resolver(result);\n    }\n}\n"]}
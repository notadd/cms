{"version":3,"sources":["cqrsCms/cqrs.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,2CAA2C;AAC3C,uCAA0C;AAC1C,iFAA4E;AAC5E,mFAA8E;AAC9E,+EAA0E;AAC1E,+EAA0E;AAC1E,2FAAqF;AACrF,mFAA6E;AAC7E,2EAAsE;AAQtE,IAAa,WAAW,GAAxB;IAEI,YAA6B,SAAqB;QAArB,cAAS,GAAT,SAAS,CAAY;IAClD,CAAC;IAEK,SAAS,CAAC,YAAyB;;YACrC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,yCAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;YAClF,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;IAEK,SAAS;;YACX,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,yCAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;YACtF,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;IAOK,QAAQ,CAAC,SAAuB;;YAClC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,qCAAgB,CAAC,SAAS,CAAC,CAAC,CAAC;YAC7E,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;IAOK,QAAQ,CAAC,UAAqB;;YAChC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,4CAAmB,CAAC,UAAU,CAAC,CAAC,CAAC;YACjF,OAAO,MAAM,CAAC;QAElB,CAAC;KAAA;IAOK,YAAY,CAAC,cAA8B;;YAC7C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,6CAAoB,CAAC,cAAc,CAAC,CAAC,CAAC;YACtF,OAAO,MAAM,CAAC;QAElB,CAAC;KAAA;IAOK,WAAW,CAAC,cAA8B;;YAC5C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,oDAAuB,CAAC,cAAc,CAAC,CAAC,CAAC;YACzF,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;IAOK,WAAW,CAAC,aAA4B;;YAC1C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,2CAAmB,CAAC,aAAa,CAAC,CAAC,CAAC;YACpF,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;CAEJ,CAAA;AAnEY,WAAW;IADvB,kBAAS,EAAE;qCAGgC,iBAAU;GAFzC,WAAW,CAmEvB;AAnEY,kCAAW","file":"cqrs.service.js","sourcesContent":["import { Component } from \"@nestjs/common\";\nimport { CommandBus } from \"@nestjs/cqrs\";\nimport { ArticleParamCommand } from \"./commands/impl/article-param.command\";\nimport { ClassifyParamCommand } from \"./commands/impl/classify-param.command\";\nimport { CreateParamCommand } from \"./commands/impl/create-param.command\";\nimport { DeleteParamCommand } from \"./commands/impl/delete-param.command\";\nimport { GetClassifyParamCommand } from \"./commands/impl/get-classify-param.command\";\nimport { GetPageParamCommand } from \"./commands/impl/get-page-param.command\";\nimport { PageParamCommand } from \"./commands/impl/page-param.command\";\nimport { ArticleCurdVm } from \"./models/view/article-curd.vm\";\nimport { ClassifyCurdVm } from \"./models/view/classify-curd.vm\";\nimport { CreatePageVm } from \"./models/view/create-page.vm\";\nimport { CreateXmlVm } from \"./models/view/create-xml-vm\";\nimport { GetPageVm } from \"./models/view/get-page.vm\";\n\n@Component()\nexport class CqrsService {\n    /*CommandBus是一个命令流。它将命令委托给相应的处理程序。每个命令都必须有相应的命令处理程序:*/\n    constructor(private readonly commonbus: CommandBus) {\n    }\n\n    async createXml(createxmlDto: CreateXmlVm) {\n        const result = await this.commonbus.execute(new CreateParamCommand(createxmlDto));\n        return result;\n    }\n\n    async updateXml() {\n        const result = await this.commonbus.execute(new DeleteParamCommand(\"10000\", \"10000\"));\n        return result;\n    }\n\n    /**\n     * 页面增删改\n     * @param {CreatePageVm} updateDto\n     * @returns {Promise<any>}\n     */\n    async pageCurd(updateDto: CreatePageVm) {\n        const result = await this.commonbus.execute(new PageParamCommand(updateDto));\n        return result;\n    }\n\n    /**\n     * 获取页面\n     * @param {GetPageVm} getPageDto\n     * @returns {Promise<any>}\n     */\n    async getPages(getPageDto: GetPageVm) {\n        const result = await this.commonbus.execute(new GetPageParamCommand(getPageDto));\n        return result;\n\n    }\n\n    /**\n     * 分类增删改\n     * @param {ClassifyCurdVm} getClassifyDto\n     * @returns {Promise<any>}\n     */\n    async classifyCurd(getClassifyDto: ClassifyCurdVm) {\n        const result = await this.commonbus.execute(new ClassifyParamCommand(getClassifyDto));\n        return result;\n\n    }\n\n    /**\n     * 获取分类\n     * @param {ClassifyCurdVm} getClassifyDto\n     * @returns {Promise<any>}\n     */\n    async getClassify(getClassifyDto: ClassifyCurdVm) {\n        const result = await this.commonbus.execute(new GetClassifyParamCommand(getClassifyDto));\n        return result;\n    }\n\n    /**\n     * 文章增删改查\n     * @param {ArticleCurdVm} getArticleDto\n     * @returns {Promise<void>}\n     */\n    async articleCurd(getArticleDto: ArticleCurdVm) {\n        const result = await this.commonbus.execute(new ArticleParamCommand(getArticleDto));\n        return result;\n    }\n\n}\n"]}
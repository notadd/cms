{"version":3,"sources":["cqrsCms/events/handlers/page-curd.handler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,uCAA4D;AAC5D,6DAAyD;AACzD,6DAAwD;AAGxD,IAAa,cAAc,GAA3B;IACI,YAAqB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAC7C,CAAC;IAEK,MAAM,CAAC,KAAoB;;YAC7B,MAAM,KAAK,GAAkB,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;YAEpD,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,EAAE;gBACrE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACjF;YAED,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE;gBACjE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACjF;YAED,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;gBACrD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aACvC;QACL,CAAC;KAAA;CACJ,CAAA;AAnBY,cAAc;IAD1B,oBAAa,CAAC,+BAAa,CAAC;qCAES,0BAAW;GADpC,cAAc,CAmB1B;AAnBY,wCAAc","file":"page-curd.handler.js","sourcesContent":["import { EventsHandler, IEventHandler } from \"@nestjs/cqrs\";\nimport { PageService } from \"../../service/page.service\";\nimport { PageCurdEvent } from \"../impl/page-curd.event\";\n\n@EventsHandler(PageCurdEvent)\nexport class PageCurdHandle implements IEventHandler<PageCurdEvent> {\n    constructor(readonly pageService: PageService) {\n    }\n\n    async handle(event: PageCurdEvent): Promise<any> {\n        const array: Array<number> = event.pageEntity.array;\n        /*新增页面*/\n        if (event.pageEntity.page !== null && event.pageEntity.page.id === null) {\n            this.pageService.createPages(event.pageEntity.page, event.pageEntity.content);\n        }\n        /*修改页面*/\n        if (event.pageEntity.page !== null && event.pageEntity.page.id >= 1) {\n            this.pageService.updatePages(event.pageEntity.page, event.pageEntity.content);\n        }\n        /*删除页面*/\n        if (event.pageEntity.page === null && array.length >= 1) {\n            this.pageService.deletePages(array);\n        }\n    }\n}\n"]}